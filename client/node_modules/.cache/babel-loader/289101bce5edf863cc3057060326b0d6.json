{"ast":null,"code":"import _regeneratorRuntime from\"/home/om621/Desktop/Breaking_Bad_Test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/om621/Desktop/Breaking_Bad_Test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/om621/Desktop/Breaking_Bad_Test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import Header from'./components/Header';import CharacterGrid from'./components/CharacterGrid';import Pagination from'./components/Pagination';import SearchBox from'./components/SearchBox';var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),characters=_useState2[0],setcharacters=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setloading=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setpage=_useState6[1];var _useState7=useState(8),_useState8=_slicedToArray(_useState7,1),charPerPage=_useState8[0];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),searchValue=_useState10[0],setsearchValue=_useState10[1];var lastChar=page*charPerPage;var firstChar=lastChar-charPerPage;var currChars=characters.slice(firstChar,lastChar);var totalPages=Math.ceil(characters.length/charPerPage);var pageChange=function pageChange(pageNumber){return setpage(pageNumber);};var getInput=function getInput(inputValue){console.log(inputValue);setsearchValue(inputValue);};useEffect(function(){var getChar=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var chars;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios('https://www.breakingbadapi.com/api/characters?name='+searchValue);case 2:chars=_context.sent;// axios returns a promise\nconsole.log(chars.data);setcharacters(chars.data);setloading(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getChar(){return _ref.apply(this,arguments);};}();getChar();},[searchValue]);// useEffect need a dependacy as parameter\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"Container\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(SearchBox,{getInput:getInput}),/*#__PURE__*/React.createElement(CharacterGrid,{loading:loading,chars:currChars}),/*#__PURE__*/React.createElement(Pagination,{totalPages:totalPages,pageChange:pageChange}));};export default App;","map":{"version":3,"sources":["/home/om621/Desktop/Breaking_Bad_Test/src/App.js"],"names":["React","useState","useEffect","axios","Header","CharacterGrid","Pagination","SearchBox","App","characters","setcharacters","loading","setloading","page","setpage","charPerPage","searchValue","setsearchValue","lastChar","firstChar","currChars","slice","totalPages","Math","ceil","length","pageChange","pageNumber","getInput","inputValue","console","log","getChar","chars","data"],"mappings":"idAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,eAEoBP,QAAQ,CAAC,EAAD,CAF5B,wCAETQ,UAFS,eAEGC,aAFH,8BAGcT,QAAQ,CAAC,IAAD,CAHtB,yCAGTU,OAHS,eAGAC,UAHA,8BAIQX,QAAQ,CAAC,CAAD,CAJhB,yCAITY,IAJS,eAIHC,OAJG,8BAKMb,QAAQ,CAAC,CAAD,CALd,yCAKTc,WALS,8BAMsBd,QAAQ,CAAC,EAAD,CAN9B,0CAMTe,WANS,gBAMIC,cANJ,gBAQhB,GAAMC,CAAAA,QAAQ,CAAGL,IAAI,CAAGE,WAAxB,CACA,GAAMI,CAAAA,SAAS,CAAGD,QAAQ,CAAGH,WAA7B,CACA,GAAMK,CAAAA,SAAS,CAAGX,UAAU,CAACY,KAAX,CAAiBF,SAAjB,CAA4BD,QAA5B,CAAlB,CACA,GAAMI,CAAAA,UAAU,CAAGC,IAAI,CAACC,IAAL,CAAUf,UAAU,CAACgB,MAAX,CAAoBV,WAA9B,CAAnB,CAEA,GAAMW,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,UAAD,QAAgBb,CAAAA,OAAO,CAACa,UAAD,CAAvB,EAAnB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,UAAD,CAAgB,CAC/BC,OAAO,CAACC,GAAR,CAAYF,UAAZ,EACAZ,cAAc,CAACY,UAAD,CAAd,CACD,CAHD,CAKA3B,SAAS,CAAC,UAAM,CACd,GAAM8B,CAAAA,OAAO,0FAAG,mKACI7B,CAAAA,KAAK,CAAC,sDAAwDa,WAAzD,CADT,QACViB,KADU,eACgF;AAE9FH,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACC,IAAlB,EACAxB,aAAa,CAACuB,KAAK,CAACC,IAAP,CAAb,CACAtB,UAAU,CAAC,KAAD,CAAV,CALc,sDAAH,kBAAPoB,CAAAA,OAAO,0CAAb,CAQAA,OAAO,GACR,CAVQ,CAUN,CAAChB,WAAD,CAVM,CAAT,CAUkB;AAElB,mBACE,2BAAK,SAAS,CAAC,WAAf,eACA,oBAAC,MAAD,MADA,cAEA,oBAAC,SAAD,EAAW,QAAQ,CAAEY,QAArB,EAFA,cAGA,oBAAC,aAAD,EAAe,OAAO,CAAIjB,OAA1B,CAAmC,KAAK,CAAIS,SAA5C,EAHA,cAIA,oBAAC,UAAD,EAAY,UAAU,CAAEE,UAAxB,CAAoC,UAAU,CAAEI,UAAhD,EAJA,CADF,CAQD,CAxCD,CA0CA,cAAelB,CAAAA,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport Header from './components/Header'\nimport CharacterGrid from './components/CharacterGrid'\nimport Pagination from './components/Pagination'\nimport SearchBox from './components/SearchBox'\n\nconst App = () => {\n\n  const [characters, setcharacters] = useState([]);\n  const [loading, setloading] = useState(true);\n  const [page, setpage] = useState(1);\n  const [charPerPage] = useState(8);\n  const [searchValue, setsearchValue] = useState(\"\");\n\n  const lastChar = page * charPerPage;\n  const firstChar = lastChar - charPerPage;\n  const currChars = characters.slice(firstChar, lastChar);\n  const totalPages = Math.ceil(characters.length / charPerPage);\n\n  const pageChange = (pageNumber) => setpage(pageNumber);\n\n  const getInput = (inputValue) => {\n    console.log(inputValue);\n    setsearchValue(inputValue);\n  }\n\n  useEffect(() => {\n    const getChar = async () => {\n      let chars = await axios('https://www.breakingbadapi.com/api/characters?name=' + searchValue); // axios returns a promise\n      \n      console.log(chars.data);\n      setcharacters(chars.data);\n      setloading(false);\n    }\n\n    getChar();\n  }, [searchValue]) // useEffect need a dependacy as parameter\n\n  return (\n    <div className=\"Container\">\n    <Header />\n    <SearchBox getInput={getInput}/>\n    <CharacterGrid loading = {loading} chars = {currChars} />\n    <Pagination totalPages={totalPages} pageChange={pageChange} />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}