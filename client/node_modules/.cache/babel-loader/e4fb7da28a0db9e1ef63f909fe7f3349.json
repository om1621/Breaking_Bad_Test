{"ast":null,"code":"var _jsxFileName = \"/home/om621/Desktop/breaking_bad_backend/client/src/components/Test.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../css/test.css';\nimport loader from '../img/loading.gif';\nimport store from '../store/index';\nimport { createSectionAction, createLoadingStateAction } from \"../actions/index\";\n\nfunction Test({\n  charId\n}) {\n  const [questions, setQuestions] = useState([]);\n  const [answers, setAnswers] = useState([]);\n  const [count, setCount] = useState([0, 0]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let score = 0;\n    count.forEach(c => {\n      score += c;\n    });\n    console.log(count);\n    alert(\"Score: \" + score + '/2');\n  };\n\n  const radioOnChange = (e, name) => {\n    let ans = e.target.value;\n\n    if (name == 0) {\n      ans = parseInt(ans);\n    }\n\n    const currentCount = count;\n\n    if (ans === answers[name]) {\n      currentCount[name] = 1;\n    } else {\n      currentCount[name] = 0;\n    }\n\n    setCount(currentCount);\n  };\n\n  const goBack = e => {\n    e.preventDefault();\n    store.dispatch(createSectionAction(-1));\n  };\n\n  useEffect(() => {\n    const loadChar = async () => {\n      const charObject = await axios('https://www.breakingbadapi.com/api/characters/' + charId);\n      let ans = [];\n      ans.push(charObject.data[0].appearance.length);\n      ans.push(charObject.data[0].status);\n      console.log(ans);\n      setAnswers(ans);\n      store.dispatch(createLoadingStateAction(false));\n    };\n\n    const loadQuestion = async () => {\n      let que = await axios('http://localhost:5000/api/questions');\n      setQuestions(que.data);\n    };\n\n    loadChar();\n    loadQuestion();\n  }, [charId]);\n  return store.getState().loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"test-grid loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: loader,\n    alt: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 75\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"test-grid row black-bg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 117\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"choice-form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, questions.map((question, index) => /*#__PURE__*/React.createElement(\"fieldset\", {\n    class: \"form-group\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row question-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12 question-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"question\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, index + 1, \". \", question.que)), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-12 option-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  }, question.options.map((option, i) => /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-check option\",\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-check-input\",\n    type: \"radio\",\n    name: index,\n    id: i,\n    value: option,\n    onChange: e => radioOnChange(e, index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    class: \"form-check-label\",\n    for: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, option))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row btns p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, \"SUBMIT\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: goBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, \"GO BACK\")))));\n}\n\nexport default Test;","map":{"version":3,"sources":["/home/om621/Desktop/breaking_bad_backend/client/src/components/Test.js"],"names":["React","useState","useEffect","axios","loader","store","createSectionAction","createLoadingStateAction","Test","charId","questions","setQuestions","answers","setAnswers","count","setCount","handleSubmit","e","preventDefault","score","forEach","c","console","log","alert","radioOnChange","name","ans","target","value","parseInt","currentCount","goBack","dispatch","loadChar","charObject","push","data","appearance","length","status","loadQuestion","que","getState","loading","map","question","index","options","option","i"],"mappings":"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","sourcesContent":["import React , {useState, useEffect} from 'react'; \nimport axios from 'axios'; \nimport '../css/test.css';\nimport loader from '../img/loading.gif'\nimport store from '../store/index'\nimport {createSectionAction, createLoadingStateAction} from \"../actions/index\"\n\nfunction Test({charId}) {\n\n    const [questions, setQuestions] = useState([]);\n    const [answers, setAnswers] = useState([]);\n    const [count , setCount] = useState([0 , 0]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        let score = 0;\n        count.forEach((c) => {\n            score += c;\n        });\n\n        console.log(count);\n\n        alert(\"Score: \" + score + '/2');\n    }\n\n    const radioOnChange = (e , name) => {\n\n        let ans = e.target.value;\n\n        if(name == 0)\n        {\n            ans = parseInt(ans);\n        }\n\n        const currentCount = count;\n        if(ans === answers[name]){\n            currentCount[name] = 1; \n        }\n        else\n        {\n            currentCount[name] = 0;\n        }\n\n        setCount(currentCount);\n        \n    }\n\n    const goBack = (e) => {\n        e.preventDefault();\n        store.dispatch(createSectionAction(-1));\n    }\n\n    useEffect(() => {\n\n        const loadChar = async () => {\n            const charObject = await axios('https://www.breakingbadapi.com/api/characters/' + charId);\n            let ans = [];\n            ans.push(charObject.data[0].appearance.length);\n            ans.push(charObject.data[0].status);\n            console.log(ans);\n            setAnswers(ans);\n            store.dispatch(createLoadingStateAction(false));\n\n        }\n\n        const loadQuestion = async () => {\n            let que = await axios('http://localhost:5000/api/questions');\n            setQuestions(que.data);\n            \n        }\n\n        loadChar();\n        loadQuestion();\n\n        \n\n    }, [charId]);\n\n\n    return ( store.getState().loading ? <div className=\"test-grid loader\"><img src={loader} alt=\"loader\" /></div> : <div className=\"test-grid row black-bg\">\n        <form className=\"choice-form\" onSubmit={handleSubmit}>\n            { questions.map((question, index) => (\n               <fieldset class=\"form-group\" key={index}>\n                <div class=\"row question-div\">\n                  \n                  <div className=\"col-sm-12 question-box\">\n                    <p className=\"question\">\n                    {index + 1}. {question.que}\n                    </p>\n                  </div>\n\n                  <div class=\"col-sm-12 option-box\">\n\n                    { question.options.map((option, i) => (\n                        <div class=\"form-check option\" key={i}>\n                            <input class=\"form-check-input\" type=\"radio\" name={index} id={i} value={option} onChange={ (e) => radioOnChange(e , index)}></input>\n                            <label class=\"form-check-label\" for={i}>\n                                {option}\n                            </label>\n                       </div>\n                    ))}\n                   \n                 </div>\n\n               </div>\n             </fieldset>\n            ))}\n\n            <div className=\"row btns p-4\">\n                <div class=\"col-sm-6\">\n                    <button type=\"submit\" className=\"btn btn-primary\">\n                        SUBMIT\n                    </button>\n                </div>\n                <div class=\"col-sm-6\">\n                    <button className=\"btn btn-primary\" onClick={goBack}>\n                      GO BACK\n                    </button>\n                </div>\n            </div>\n        </form>  \n    </div>);\n}\n\nexport default Test;\n"]},"metadata":{},"sourceType":"module"}