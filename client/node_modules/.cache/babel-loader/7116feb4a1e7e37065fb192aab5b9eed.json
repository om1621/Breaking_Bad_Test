{"ast":null,"code":"import _regeneratorRuntime from\"/home/om621/Desktop/Breaking_Bad_Test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/om621/Desktop/Breaking_Bad_Test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/om621/Desktop/Breaking_Bad_Test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import'../css/test.css';import loader from'../img/loading.gif';import store from'../store/index';import{createSectionAction,createLoadingStateAction}from\"../actions/index\";function Test(_ref){var charId=_ref.charId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),questions=_useState2[0],setQuestions=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),answers=_useState4[0],setAnswers=_useState4[1];var _useState5=useState([0,0]),_useState6=_slicedToArray(_useState5,2),count=_useState6[0],setCount=_useState6[1];var handleSubmit=function handleSubmit(e){e.preventDefault();var score=count.reduce(function(x,y){return x+y;});var str=\"\";if(score===2){str+=\"Real Breaking Bad Fan! \\n\";}else if(score===1){str+=\"Half Breaking Bad Fan :) \\n\";}else if(score===0){str+=\"You need a Revision! \\n\";}str+=\"Score: \"+score+'/2';alert(str);};var radioOnChange=function radioOnChange(e,name){var ans=e.target.value;if(name===0){ans=parseInt(ans);}var currentCount=count;if(ans===answers[name]){currentCount[name]=1;}else{currentCount[name]=0;}setCount(currentCount);};var goBack=function goBack(e){e.preventDefault();store.dispatch(createSectionAction(-1));};useEffect(function(){var loadChar=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var charObject,ans;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios('https://www.breakingbadapi.com/api/characters/'+charId);case 2:charObject=_context.sent;ans=[];ans.push(charObject.data[0].appearance.length);ans.push(charObject.data[0].status);console.log(ans);setAnswers(ans);store.dispatch(createLoadingStateAction(false));case 9:case\"end\":return _context.stop();}}},_callee);}));return function loadChar(){return _ref2.apply(this,arguments);};}();var loadQuestion=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var que;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios('api/questions');case 2:que=_context2.sent;setQuestions(que.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function loadQuestion(){return _ref3.apply(this,arguments);};}();loadChar();loadQuestion();},[charId]);return store.getState().loading?/*#__PURE__*/React.createElement(\"div\",{className:\"test-grid loader\"},/*#__PURE__*/React.createElement(\"img\",{src:loader,alt:\"loader\"})):/*#__PURE__*/React.createElement(\"div\",{className:\"test-grid row black-bg\"},/*#__PURE__*/React.createElement(\"form\",{className:\"choice-form\",onSubmit:handleSubmit},questions.map(function(question,index){return/*#__PURE__*/React.createElement(\"fieldset\",{class:\"form-group\",key:index},/*#__PURE__*/React.createElement(\"div\",{class:\"row question-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 question-box\"},/*#__PURE__*/React.createElement(\"p\",{className:\"question\"},index+1,\". \",question.que)),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-12 option-box\"},question.options.map(function(option,i){return/*#__PURE__*/React.createElement(\"div\",{class:\"form-check option\",key:i},/*#__PURE__*/React.createElement(\"input\",{class:\"form-check-input\",type:\"radio\",name:index,id:i,value:option,onChange:function onChange(e){return radioOnChange(e,index);}}),/*#__PURE__*/React.createElement(\"label\",{class:\"form-check-label\",for:i},option));}))));}),/*#__PURE__*/React.createElement(\"div\",{className:\"row btns p-4\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-6\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"SUBMIT\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-6\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:goBack},\"GO BACK\")))));}export default Test;","map":{"version":3,"sources":["/home/om621/Desktop/Breaking_Bad_Test/client/src/components/Test.js"],"names":["React","useState","useEffect","axios","loader","store","createSectionAction","createLoadingStateAction","Test","charId","questions","setQuestions","answers","setAnswers","count","setCount","handleSubmit","e","preventDefault","score","reduce","x","y","str","alert","radioOnChange","name","ans","target","value","parseInt","currentCount","goBack","dispatch","loadChar","charObject","push","data","appearance","length","status","console","log","loadQuestion","que","getState","loading","map","question","index","options","option","i"],"mappings":"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","sourcesContent":["import React , {useState, useEffect} from 'react'; \nimport axios from 'axios'; \nimport '../css/test.css';\nimport loader from '../img/loading.gif'\nimport store from '../store/index'\nimport {createSectionAction, createLoadingStateAction} from \"../actions/index\"\n\nfunction Test({charId}) {\n\n    const [questions, setQuestions] = useState([]);\n    const [answers, setAnswers] = useState([]);\n    const [count , setCount] = useState([0 , 0]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        let score = count.reduce((x , y ) => (x + y));\n\n        let str = \"\";\n        if(score === 2)\n        {\n            str +=  \"Real Breaking Bad Fan! \\n\"\n        }\n        else if(score === 1)\n        {\n            str +=  \"Half Breaking Bad Fan :) \\n\"\n        }\n        else if(score === 0)\n        {\n            str += \"You need a Revision! \\n\"\n        }\n\n        str +=  \"Score: \" + score + '/2'\n\n        alert(str);\n\n       \n    }\n\n    const radioOnChange = (e , name) => {\n\n        let ans = e.target.value;\n        if(name === 0)\n        {\n            ans = parseInt(ans);\n        }\n\n        const currentCount = count;\n        if(ans === answers[name]){\n            currentCount[name] = 1; \n        }\n        else\n        {\n            currentCount[name] = 0;\n        }\n\n        setCount(currentCount);\n        \n    }\n\n    const goBack = (e) => {\n        e.preventDefault();\n        store.dispatch(createSectionAction(-1));\n    }\n\n    useEffect(() => {\n\n        const loadChar = async () => {\n            const charObject = await axios('https://www.breakingbadapi.com/api/characters/' + charId);\n            let ans = [];\n            ans.push(charObject.data[0].appearance.length);\n            ans.push(charObject.data[0].status);\n            console.log(ans);\n            setAnswers(ans);\n            store.dispatch(createLoadingStateAction(false));\n\n        }\n\n        const loadQuestion = async () => {\n            let que = await axios('api/questions');\n            setQuestions(que.data);\n            \n        }\n\n        loadChar();\n        loadQuestion();\n\n    }, [charId]);\n\n\n    return ( store.getState().loading ? <div className=\"test-grid loader\"><img src={loader} alt=\"loader\" /></div> : <div className=\"test-grid row black-bg\">\n        <form className=\"choice-form\" onSubmit={handleSubmit}>\n            { questions.map((question, index) => (\n               <fieldset class=\"form-group\" key={index}>\n                <div class=\"row question-div\">\n                  \n                  <div className=\"col-sm-12 question-box\">\n                    <p className=\"question\">\n                    {index + 1}. {question.que}\n                    </p>\n                  </div>\n\n                  <div class=\"col-sm-12 option-box\">\n\n                    { question.options.map((option, i) => (\n                        <div class=\"form-check option\" key={i}>\n                            <input class=\"form-check-input\" type=\"radio\" name={index} id={i} value={option} onChange={ (e) => radioOnChange(e , index)}></input>\n                            <label class=\"form-check-label\" for={i}>\n                                {option}\n                            </label>\n                       </div>\n                    ))}\n                   \n                 </div>\n\n               </div>\n             </fieldset>\n            ))}\n\n            <div className=\"row btns p-4\">\n                <div class=\"col-sm-6\">\n                    <button type=\"submit\" className=\"btn btn-primary\">\n                        SUBMIT\n                    </button>\n                </div>\n                <div class=\"col-sm-6\">\n                    <button className=\"btn btn-primary\" onClick={goBack}>\n                      GO BACK\n                    </button>\n                </div>\n            </div>\n        </form>  \n    </div>);\n}\n\nexport default Test;\n"]},"metadata":{},"sourceType":"module"}